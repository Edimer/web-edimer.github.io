---
title: "Árbol de clasificación con R"
description: |
  Ejemplo de uso de árboles de decisión con R en machine learning supervisado para clasificación. Usos de la biblioteca rpart y caret.
preview: img1.png   
author:
  - name: Edimer David Jaramillo
    url: https://edimer.github.io/
    affiliation: R+Py
    affiliation_url: https://edimer.github.io/
date: 07-17-2020
categories:
  - R
  - Tree Decision
output:
  distill::distill_article:
    self_contained: false
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE,
                      warning = FALSE,
                      message = FALSE,
                      fig.align = "center")

# Learn more about creating blogs with Distill at:
# https://rstudio.github.io/distill/blog.html

```

# Requisitos previos

- Instalar las bibliotecas [`rpart`](https://cran.r-project.org/web/packages/rpart/rpart.pdf) y [rpart.plot](https://cran.r-project.org/web/packages/rpart.plot/rpart.plot.pdf) para entrenar y gráficar modelos basados en árboles.
- Instalar la biblioteca [`caret`.](http://topepo.github.io/caret/index.html)
- [Descargar datos para ejemplo](https://www.openml.org/d/31) desde la página [openML](https://www.openml.org/). La base de datos proporciona información de personas perfiladas con riesgo crediticio *bueno* o *malo*.
- **Bibliotecas complementarias:** `ggplot2` para visualizaciones,  `jcolors` para colores de gráficos, `dplyr` para manejo de datos y `Metrics` para métricas de precisión (evaluación de modelos).

# Bibliotecas

```{r}
library(dplyr)
library(ggplot2)
library(jcolors)
library(Metrics)
library(rpart)
library(rpart.plot)
library(caret)
```

# Descripción de variables

- Además de la variable respuesta *class*, se cuenta con las siguientes 20 variables.

<center>
<img src = "www/img1.png" />
</center>

# Datos

- Se importan los datos y se aplica la función `mutate_if()` para eliminar las comillas simples (*''*) que están presentes en las variables tipo texto (`character`).

```{r}
data <- data.table::fread(file = "data/dataset_31_credit-g.csv") %>% 
  mutate_if(is.character, funs(gsub("'", "", .)))
head(data[])
  
```

# Recursos de información

- [An Introduction to Statistical Learning with Applications in R.](http://faculty.marshall.usc.edu/gareth-james/ISL/)
- [Tree-Based Models.](https://www.statmethods.net/advstats/cart.html)
- [Árboles de predicción - Joaquín A. Rodrigo.](https://rpubs.com/Joaquin_AR/255596)
- [Curso DataCamp - *Tree-Based Models in R*.](https://www.datacamp.com/courses/machine-learning-with-tree-based-models-in-r)